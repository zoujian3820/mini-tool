/**
 **** Confirm弹窗插件
 *  PluginName: ZjsjConfirm
 *  Author: Mrzou 2018-01-04
 *  param: {
 *		       title: String,
 *           text: String,
 *           confirm: Function
 *           concel: Function
 *           animate: 'bottom || top || left || 默认不填则为渐隐'
 *           type: '1为单按钮，默认双按钮'
 *       }
 *  button.addEventListener("click", function () {
 *       ZjsjConfirm.plugin().setInfo({
 *		       title:"titlePops",
 *           text: 'yooooo',
 *           confirm: function () {
 *               console.log('你点了确定')
 *           },
 *           concel: function () {
 *               console.log('你点了取消')
 *           },
 *       })
 *   })
 ****/
var ZjsjConfirm={plugin:(function(){function a(){this.opt={confirm:new Function(),concel:new Function(),text:"",title:"",animate:""};this.prefixStyle=function(c){var d=document.createElement("div").style;var b=c.charAt(0).toUpperCase()+c.substr(1);var e=(function(){var g={webkit:"webkit"+b,Moz:"Moz"+b,O:"O"+b,ms:"ms"+b,standard:c};for(var f in g){if(d[g[f]]!==undefined){return f}}return false})();if(e===false){return false}if(e==="standard"){return c}return e+b};this.prevent=function(b){b.preventDefault()};this.init()}a.prototype={init:function(){var c=document.getElementById("zjsjPopConfirmWrapper");var e=document.getElementById("ZjsjConfirmStyleId");c===null?this.dom_div=document.createElement("div"):this.dom_div=document.getElementById("zjsjPopConfirmWrapper");if(c===null){this.dom_div.id="zjsjPopConfirmWrapper"}if(e===null){var d=document.createElement("style")}if(e===null){d.id="ZjsjConfirmStyleId"}if(e===null){d.innerHTML='*{outline:none;margin:0;padding:0}#zjsjtitlePops{text-align: center;line-height: 1.6em;padding: .8em .625em 0;color: #555;}#zjsjPopConfirmShade{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:none;opacity:0;z-index:999999998;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}#zjsjPopConfirmShade.show,#zjsjPopConfirm.show{display:block}#zjsjPopConfirm{-webkit-transform:translateZ(0);transform:translateZ(0);width:13em;height:auto;overflow:hidden;background:#fff;display:none;border-radius:.4em;-webkit-border-radius:.4em;position:fixed;z-index:999999999;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s;transition:all .3s}.zjsjPopText{font-size:.95em;line-height:1.5em;text-align:center;width:100%;padding:.4em .625em .9em .625em;box-sizing:border-box;-webkit-box-sizing:border-box;color:#555;}.zjsjPopButton{width:100%;border-top:1px solid #e1e1e1;color:#5998ff;font-size:.95em;}.zjsjPopYes,.zjsjPopNo{line-height:1em;text-align:center;float:left;width:50%;box-sizing:border-box;-webkit-box-sizing:border-box;padding:.7em 0;position:relative;}.zjsjPopNo:after{content:"";position:absolute;left:0;top:50%;width:1px;background:#e1e1e1;height:100%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);}'}if(c===null){this.dom_div.innerHTML='<div id="zjsjPopConfirm"><div id=zjsjtitlePops></div><div class="zjsjPopText"id="zjsjPopConfirmText">提示语</div><div class="zjsjPopButton"><div class="zjsjPopYes"id="zjsjPopConfirmYes">确定</div><div class="zjsjPopNo"id="zjsjPopConfirmNo">取消</div></div></div><div id="zjsjPopConfirmShade"></div>'}if(e===null){document.head.appendChild(d)}if(c===null){document.body.appendChild(this.dom_div)}this.bottonYes=document.querySelector("#zjsjPopConfirmYes");this.bottonNo=document.querySelector("#zjsjPopConfirmNo");this.ngtext=document.querySelector("#zjsjPopConfirmText");this.ngtitle=document.querySelector("#zjsjtitlePops");this.shade=document.querySelector("#zjsjPopConfirmShade");this.wrap=document.querySelector("#zjsjPopConfirm");var b=this.prefixStyle("transition")+"End";b&&this.wrap.addEventListener(b,function(){var f=window.getComputedStyle(this.shade,null)["opacity"];if(!(f*1)){this.shade.classList.remove("show");this.wrap.classList.remove("show")}}.bind(this),false)},onButton:function(){var b=this;b.ngtext.innerHTML=this.opt.text;if(this.opt.title){b.ngtitle.style.display="block";b.ngtitle.innerHTML=this.opt.title}else{b.ngtitle.innerHTML="";b.ngtitle.style.display="none"}b.shade.classList.add("show");b.wrap.classList.add("show");switch(b.opt.animate){case"left":b.wrap.style.cssText="left:0;top:50%;";break;case"top":b.wrap.style.cssText="top:0;left:50%;";break;case"bottom":b.wrap.style.cssText="bottom:0;left:50%;";break;default:b.wrap.style.cssText="top:50%;left:50%;";break}setTimeout(function(){b.shade.style.opacity="1"},17);setTimeout(function(){b.wrap.style.opacity="1";if(b.opt.animate=="bottom"){return b.wrap.style[b.opt.animate]="25%"}b.wrap.style[b.opt.animate]="50%"},100);return function(){var d=typeof b.opt.confirm;var c=this.id;if(d==="function"&&c==="zjsjPopConfirmYes"){b.opt.confirm();b.shade.style.opacity="0";b.wrap.style.opacity="0";b.wrap.style[b.opt.animate]="0"}else{if(c==="zjsjPopConfirmNo"&&d==="function"){b.opt.concel()}b.shade.style.opacity="0";b.wrap.style.opacity="0";b.wrap.style[b.opt.animate]="0"}b.dom_div.removeEventListener("touchmove",b.prevent,false);b.bottonYes.removeEventListener("click",b.back,false);b.bottonNo.removeEventListener("click",b.back,false)}},setInfo:function(d){var f=this;var c=document.querySelector("#zjsjPopConfirmNo");var b=document.querySelector("#zjsjPopConfirmYes");var e=d.type?d.type:0;switch(e){case 1:c.style.display="none";b.style.width="100%";break;default:c.style.display="block";b.style.width="50%";break}f.opt.text=d.text;f.opt.title=d.title;f.opt.animate=d.animate;f.opt.confirm=d.confirm;
  f.opt.concel=d.concel;f.back=f.onButton();f.bottonYes.addEventListener("click",f.back,false);f.bottonNo.addEventListener("click",f.back,false);f.dom_div.addEventListener("touchmove",f.prevent,false)}};return function(){return new a()}})()};